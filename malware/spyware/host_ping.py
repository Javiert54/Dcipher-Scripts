

import os
import platform
from datetime import datetime

# Solicitar la IP base y el rango de la subred
ip_base = input("Ingresa la IP base (por ejemplo, 192.168.1.): ")
inicio = int(input("Ingresa el número de inicio de la subred: "))
fin = int(input("Ingresa el número final de la subred: "))

# Determinar el comando de ping según el sistema operativo
if platform.system().lower() == "windows":
    ping_cmd = "ping -n 1"
else:
    ping_cmd = "ping -c 1"

# Registrar el tiempo de inicio
tiempo_inicio = datetime.now()

print(f"[*] Escaneando desde {ip_base}{inicio} hasta {ip_base}{fin}")

# Escanear el rango de IPs
for subred in range(inicio, fin + 1):
    direccion = f"{ip_base}{subred}"
    respuesta = os.popen(f"{ping_cmd} {direccion}")
    for linea in respuesta.readlines():
        if "ttl" in linea.lower():
            print(f"{direccion} está activo")
            break

# Registrar el tiempo final y calcular la duración
tiempo_final = datetime.now()
duracion = tiempo_final - tiempo_inicio
print(f"[*] El escaneo ha durado {duracion}")